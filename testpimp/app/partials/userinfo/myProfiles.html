<div ng-controller="myProfilesCtrl">


<h4>My User Profile</h4>
<div>
	<!-- <p>Username: {{mainUserProfileInformation.username}}</p> -->
	<p>Profile Title: {{user.profileTitle}}</p>
	<p>Description: {{user.description}}</p>
	<p>Displayname: {{user.displayName}}</p>
	<!-- <p>Location: {{mainUserProfileInformation.location}}</p>
	<p>Contact Email: {{mainUserProfileInformation.contactEmail}}</p> -->
	<p>Employer Rating: {{user.employer_rating}}</p>
	<p>Employee Rating: {{user.employee_rating}}</p>
	<button ng-click="editMainProfile()">Edit Profile</button>
	<div ng-show="showEditMainProfile">
		<table>
			<!-- <tr>
				<td>
					<th>Username</th>
				</td>
				<td>
					<input type="text" ng-model="mainProfile.userName" ng-init="mainProfile.userName = user.username">	
				</td>
			</tr> -->
			<tr>
				<td>
					<th>Profile Title</th>
				</td>
				<td>
					<input type="text" ng-model="mainProfile.profileTitle" ng-init="mainProfile.profileTitle = user.profileTitle">	<!-- ng-init="mainProfile.userName = user.profileTitle" -->
				</td>
			</tr>
			<tr>
				<td>
					<th>Description</th>
				</td>
				<td>
					<input type="text" ng-model="mainProfile.description" ng-init="mainProfile.description = user.description">
				</td>
			</tr>
			<tr>
				<td>
					<th>Display Name</th>
				</td>
				<td>
					<input type="text" ng-model="mainProfile.displayName" ng-init="mainProfile.displayName = user.displayName">
				</td>
			</tr>
			<!-- <tr>
				<td>
					<th>Location</th>
				</td>
				<td>
					<input type="text" ng-model="mainProfile.location" ng-init="mainProfile.location = user.location">	
				</td>
			</tr>
			<tr>
				<td>
					<th>Contact Email</th>
				</td>
				<td>
					<input type="email" ng-model="mainProfile.contactEmail" ng-init="mainProfile.contactEmail = user.contactEmail">
				</td>
			</tr> -->
		</table>
		<button ng-click="confirmEditMainProfile()">Confirm</button>
		<button ng-click="cancelEditMainProfile()">Cancel</button>
	</div>
</div>

<br><br>

<h4>My Provider profiles</h4>

<table>
<tr ng-repeat="providerProfile in myProviderProfiles">
	<td><a href="#" ng-click="showProviderProfileDetails = ! showProviderProfileDetails; cancelEditProfile()">{{providerProfile.profileTitle}}</a>
		<div ng-show="showProviderProfileDetails">
		<div ng-init="showPreviewProviderProfile='true'" ng-show="showPreviewProviderProfile">
			<table style="border-collapse: separate; boarder-spacing: 5px;">
				<tr>
					<th valign="top">Location: </th>
					<td>{{providerProfile.location}}</td>
				</tr>
				<tr>
					<th valign="top">Description: </th>
					<td>{{providerProfile.description}}</td>
				</tr>
			</table>
			<p><button ng-click="editProviderProfile(this)">Edit</button> <button ng-click="deleteProviderProfile(providerProfile)">delete</button></p>
		</div>
		<div ng-show="! showPreviewProviderProfile">
		<table>
			<tr>
				<th>Profile Title</th>
				<td>
					<input type="text" ng-model="editProfile.title" ng-init="editProfile.title = providerProfile.profileTitle">
				</td>
			</tr>
			<tr>
				<th>Location</th>
				<td>
					<input type="text" ng-model="editProfile.location" ng-init="editProfile.location = providerProfile.location">
				</td>
			</tr>
			<tr>
				<th>Description</th>
				<td>
					<input type="text" ng-model="editProfile.description" ng-init="editProfile.description = providerProfile.description">
				</td>
			</tr>
		</table>
		<p><button ng-click="confirmEditProfile(editProfile, providerProfile.id)">Confirm</button></p>
		<p><button ng-click="showPreviewProviderProfile =! showPreviewProviderProfile">Cancel</button></p>
		</div>
		</div>
	</td>
	<td>
	</td>
</tr>
</table>
<button ng-click="createProviderProfile()">New Provider Profile</button>

</div>
